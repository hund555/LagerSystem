@page "/createnewitem"

@inject ServiceLayer.ILagerService _lagerService
<h3>Tilføj ny genstand til lager</h3>
<hr />
<div class="row">
    <div class="col-md-4">
        <EditForm Model="@CreateItem" OnValidSubmit="CreateNewItem">
            <DataAnnotationsValidator />
            <div class="form-group">
                <label>Genstands navn</label>
                <input class="form-control" @bind="CreateItem.ItemName" />
                <ValidationMessage For="() => CreateItem.ItemName" />
            </div>
            <div class="form-group">
                <label>Beskrivelse</label>
                <input class="form-control" @bind="CreateItem.Discription" />
            </div>
            <input class="btn btn-primary" type="submit" value="Opret" />
        </EditForm>
    </div>
</div>


@code {
    public DataLayer.Entities.Item CreateItem { get; set; } = new DataLayer.Entities.Item();

    private async Task CreateNewItem()
    {
        await _lagerService.CreateNewItem(CreateItem);
        CreateItem = new DataLayer.Entities.Item();
    }
}
